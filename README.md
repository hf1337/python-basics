# Основы синтаксиса Python

![Python](/img/python.png)

## Содержание

* [1. Арифметика](#1-арифметика)
  * [1.1 Операторы и операнды](#11-операторы-и-операнды)
  * [1.2 Коммуникативные операции](#12-коммуникативные-операции)
  * [1.3 Композиция операций](#13-композиция-операций)
  * [1.4 Числа с плавающей точкой](#14-числа-с-плавающей-точкой)
* [2. Строки](#2-строки)
  * [2.1 Кавычки](#21-кавычки)
  * [2.2 Экранированные последовательности](#22-экранированные-последовательности)
  * [2.3 Конкатенация](#23-конкатенация)
  * [2.4 Кодировка](#24-кодировка)
* [3. Переменные](#3-переменные)
  * [3.1 Применение переменных](#31-применение-переменных)
  * [3.2 Изменение переменных](#32-изменение-переменных)
  * [3.3 Назначение имён для переменных](#33-назначение-имён-для-переменных)
  * [3.4 Выражения в определениях](#34-выражения-в-определениях)
  * [3.5 Переменные и конкатенация](#35-переменные-и-конкатенация)
  * [3.6 Магические числа](#36-магические-числа)
  * [3.7 Константы](#37-константы)
* [4. Подробнее про строки](#4-подробнее-про-строки)
  * [4.1 Интерполяция](#41-интерполяция)
  * [4.2 Индексация](#42-индексация)

## 1. Арифметика

### 1.1 Операторы и операнды

`Операторы` — это специальные символы или ключевые слова, который выполняет операцию над одним или несколькими операндами. Операторы делятся на три основных типа: унарные, бинарные, тернарные. Также существуют различные категории операторов: арифметические операторы, логические операторы, операторы сравнения, операторы присваивания, битовые операторы, операторы идентичности и операторы членства.

`Операнды` — это переменные или значения, над которыми проводится операция. Они могут быть простыми значениями или сложными выражениями, включающими другие операторы и операнды.

```txt
Арифметические операторы:

+ — сложение
- — вычитание
** — возведение в степень
/ — деление
// — целочисленное деление
% — остаток от деления
```

Более подробно об остальных категориях операторов можно узнать [тут](https://pythonru.com/osnovy/operatory-python).

***

### 1.2 Коммуникативные операции

`Коммуникативные операции` — обычно это сложение. Во всех остальных действиях очень важно следить за порядком.

```txt
7 + 3 = 3 + 7
7 - 3 не = 3 - 7
```

***

### 1.3 Композиция операций

`Композиция операций` — это операции, в которых соединяются друг с другом всё более сложные составные выражения. Приоритет определяется операндами или же если нужна определённая последовательность, то ставятся скобки. Главное закрывать скобки в правильном порядке.

```python
# Порядок действий определяется операторами
print(10 / 4 + 7 - -5 / 4)

# Порядок действий определяется скобками
print(((10 / 4) + 7) - (-5 / 4))
```

***

### 1.4 Числа с плавающей точкой

`Числа с плавающей точкой` — это числовой тип данных, который используется для представления действительных чисел, включая дробную часть. Python позволяет работать с числами практически любой длины, точность чисел с плавающей точкой ограничена примерно 15–16 значащими цифрами. Из-за особенностей хранения чисел в двоичной системе возникают небольшие погрешности при представлении некоторых десятичных значений.

```py
# Пример сложения чисел с плавающей точкой
print(0.1 + 0.2)  # 0.30000000000000004

# Результат будет отличаться от ожидаемого из-за ограниченной точности
print(12.3456 + 0.000001)  # 12.345600999999998
```

Объём памяти, в отличие от чисел, конечен.

## 2. Строки

### 2.1 Кавычки

Какие **кавычки** выбирать, зависит от удобства программиста, а также выбора команды. И тот, и другой вариант будет верным.

```py
# Можно использовать как одинарные кавычки..
print('Dragon\'s mother said "No"')
# так и двойные
print("Dragon's mother said \"No\"")
```

***

### 2.2 Экранированные последовательности

`Экранированные последовательности` — это специальные комбинации символов, которые помогают добавлять в строки символы, которые трудно или невозможно ввести прямо с клавиатуры. Их существует несколько десятков, но часто встречаются только некоторые. К таким относятся:

* перенос \n — на другую строку
* табуляция \t — получается при нажатии на кнопку Tab
* возврат каретки \r — работает только в Windows

Пример использования:

```python
# Можно разделять строки, но строка должна содержать только символ \n
print('Dean')
print("\n")
print('Winchester')
```

***

### 2.3 Конкатенация

`Конкатенация` — это операция объединения двух или более строк в одну строку. В Python конкатенация выполняется с помощью оператора "+" между строковыми объектами.

```py
# Пример конкатенации
print("Fall " + "seven " + "times " + "and " + "stand " + "up " + "eight.")
```

***

### 2.4 Кодировка

Существуют разные типы **кодировок**, такие как **UTF-8** или **ASCII**. Каждый символ закодирован цифрой. Кодировка ASCII поддерживает только латинские символы и некоторые специальные знаки, тогда как UTF-8 позволяет хранить символы множества различных алфавитов, включая кириллицу, китайские иероглифы и даже эмодзи.

```py
# Число 126 соответствует символу "~" в кодировке ASCII
print(chr(126))

# Символ "~" соответствует числу 126 в кодировке ASCII
print(ord("~"))
```

Когда данные сохраняются или передаются в неправильной кодировке, это может привести к проблемам с отображением символов. Чаще всего используют кодировку UTF-8, так как она обеспечивает практически максимальную совместимость.

## 3. Переменные

### 3.1 Применение переменных

`Переменные` — это способ временного хранения значений, чтобы потом обращаться к ним по имени для дальнейшего использования в коде. В отличие от некоторых других языков программирования, в Python переменным не нужно заранее объявлять тип данных — интерпретатор сам определяет тип значения, которое присваивается переменной.

```py
# Вместо использования одного слова несколько раз..
print("Brother!")
print("Brother!")

# можно использовать переменную, которой присвоено это значение
greeting = "Brother!"
print(greeting)
```

***

### 3.2 Изменение переменных

`Изменение переменных` — это процесс обновления значения, которое хранится в памяти программы под определенным именем. Для разных ситуаций существуют разные сценарии изменения переменных.

```py
# Было присвоено одно значение, которое..
greeting = "Brother!"
print(greeting)

# в процессе поменяли
greeting = "Sister!"
print(greeting)
```

***

### 3.3 Назначение имён для переменных

Стоит учитывать, что **назначение имён для переменных** в первую очередь делается для облегчения восприятия кода людьми, поэтому имена переменных должны отражать суть хранимых в них данных. В языке программирования Python существует несколько основных правил:

* имя должно отражать суть хранимых в переменной данных
* используются строчные буквы
* для разделения используется символ подчёркивания (first_person, second_num и т.д.)

Ознакомиться более подробно с правилами назначения имён для переменных можно [тут](https://peps.python.org/pep-0008/#naming-conventions).

Пример правильного назначения имён для переменных:

```py
first_num = 20  # первое число
second_num = -100  # второе число

print(first_num * second_num)  # их произведение
```

***

### 3.4 Выражения в определениях

`Выражения в определениях` — это такие фрагменты кода, которые используются внутри определений различных структур языка, таких как функции, классы, циклы, условия и другие конструкции. Проще говоря, `выражение` — это комбинация операторов, переменных, литералов и вызовов функций, которая возвращает какое-то значение.

```py
euros_count = 100

# Евро в долларах
dollar_count = 100 * 1.25
print(dollar_count)  # => 125.0

# Доллары в юанях
yuans_count = dollar_count * 6.91
print(yuans_count)  # => 863.75

print("Euros: " + str(euros_count) + " " + "Dollars: " + str(dollar_count) + " " + "Yuans: " + str(yuans_count))  # => Euros: 100 Dollars: 125.0 Yuans: 863.75
```

В тех местах, где ожидается выражение, можно поставить любое вычисление. Оно может быть не только математическим, но и строковым — как конкатенация.

Любая переменная может быть частью любого выражения. В момент вычисления вместо имени переменной подставляется ее значение.

***

### 3.5 Переменные и конкатенация

Как и с обычными выражениями, можно использовать **переменные с конкатенацией**. Синтаксически ничего не поменяется.

```py
first_name = "Johnny"
greeting = "Hello"

print(greeting + ", " + first_name + "!")  # => Hello, Johnny!
```

***

### 3.6 Магические числа

`Магические числа` — это числа, происхождение которых невозможно понять с первого взгляда. В конечном итоге приходится глубоко вникать в код. Для предотвращения проблемы, нужно создавать переменные с правильными именами. Названия переменных должны передавать смысл, но должны при этом оставаться достаточно короткими и ёмкими для комфортного чтения.

```py
# В большом кол-ве кода будет тяжело понять происхождение
castles = 6
rooms = 17

# Сохраняется краткость и информативность
number_of_castles = 6
rooms_per_castle = 17
```

Магические числа и непонятные именования переменных не ломают код, но делают его менее читабельным. Правильное именование переменных — половина успеха анализа кода.

***

### 3.7 Константы

`Константы` — это переменные, значения которых не меняются на протяжении всей программы. Самым простым примером являются математические постоянные.

```py
# Число "Пи"
PI = 3.14
print(PI)  # => 3.14
```

Константа создается так же, как переменная. Разница только в том, что константы принято именовать заглавными буквами. Константа, как и переменная, может использоваться в любом выражении.

## 4. Подробнее про строки

### 4.1 Интерполяция

Базовый способ соединения строк — `конкатенация`. Конкатенация работает просто, но выглядит не всегда наглядно. У конкатенации есть альтернатива — `интерполяция`.

```py
first_name = "Brother"
greeting = "Hello"

print(f"Hello, {first_name}!")  # => Hello, Brother!
print(f"{greeting}, {first_name}!")  # => Hello, Brother!
```

Буква f указывает на то, что мы создаем `f-строку` — шаблон, в который с помощью фигурных скобок подставляются значения переменных. В результате получается обычная строка.

Почти во всех языках для объединения строк интерполяция предпочтительнее конкатенации. Строка при этом получается склеенная, и внутри неё хорошо просматриваются пробелы и другие символы. Интерполяция помогает сделать код более понятным и чистым.

***

### 4.2 Индексация

Иногда нужно получить один символ из строки. Например, если знать имя и фамилию пользователя, и в какой-то момент требуется вывести эту информацию в формате A. Ivanov.

`Индекс` — это целое число, которое используется для обращения к элементу последовательности. Индексы начинаются с 0 почти во всех языках программирования. Индекс последнего элемента равен длине строки минус единица. Обращение к индексу за пределами строки приведет к ошибке.

```py
# Длина строки девять символов
first_name = "Alexander"

# Если нам нужен первый символ, то из 1 - 1 = 0
print(first_name[0])  # => A

# Если нам нужен последний символ, то из 9 - 1 = 8
print(first_name[8])  # => r
```

Допустимо использовать отрицательные индексы. В этом случае идет обращение к символам, начиная с конца строки. -1 — индекс последнего символа, -2 — предпоследнего и так далее. В отличие от прямой индексации, обратный отсчет идет от -1. А так же индексом может быть не только число, но и значение переменной.

```py
# Длина строки девять символов
first_name = "Alexander"

# Обратный отсчёт идёт с конца
print(first_name[-1])  # => r

# Индекс записанный в переменную
index = 0

# Индекс равен нулю записанному в переменную index
print(first_name[index])  # => A
```

Стоит знать, что **\n** и другие экранированные последовательности, являются одним целым символом:

```py
# Теперь длина строки десять символов..
first_name = "Alex\nander"

# соответственно индекс последней буквы будет равен девяти
print(first_name[9])  # => r
```
